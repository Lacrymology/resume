---
layout: post
title: CakePHP Migrations on Mac OS X 10.6 Snow Leopard
date: 2010-01-26 18:32:00.000000000 -08:00
categories:
- essays
tags:
- cake
- os x
- php
status: publish
type: post
published: true
---
1. [Enable PHP, install PEAR, update system PATH, and update PHP include_path](http://www.newmediacampaigns.com/page/install-pear-phpunit-xdebug-on-macosx-snow-leopard)
2. Open Terminal and install MDB2:
        cd /usr/local
        sudo pear install MDB2-2.5.0b2
        sudo pear install MDB2_Driver_mysql-1.5.0b2
And then...
3. Install [CakePHP DB Migrations](http://codaset.com/joelmoss/cakephp-db-migrations/wiki/installation)
4. If MDB2 throws a "Native Code: 2002" error when you "cake migrate" or "cake populate", PHP is probably looking for mysql.sock in a place it doesn't exist. Open **/etc/php.ini**, and locate the following lines (they exist in separate blocks in php.ini, grouped here for brevity):
        pdo_mysql.default_socket = /var/mysql/mysql.sock
        mysql.default_socket = /var/mysql/mysql.sock
    Then change the lines to read:
        pdo_mysql.default_socket =
        mysql.default_socket =
    By setting an empty default socket, PHP will use the built-in MySOL defaults.
5. Restart Apache:
        sudo /usr/sbin/apachectl restart
